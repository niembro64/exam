{"ast":null,"code":"import _objectSpread from\"C:/Users/nieme/Documents/CodingDojo/MERNStack2022/exam/client/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _defineProperty from\"C:/Users/nieme/Documents/CodingDojo/MERNStack2022/exam/client/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _slicedToArray from\"C:/Users/nieme/Documents/CodingDojo/MERNStack2022/exam/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React from\"react\";import{useEffect,useState,createElement}from\"react\";import{useParams}from\"react-router-dom/cjs/react-router-dom.min\";import{Switch,Route,Link}from\"react-router-dom\";import axios from\"axios\";import{useHistory}from\"react-router-dom/cjs/react-router-dom.min\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var p=function p(a){console.log(a);};var Single=function Single(props){var _useParams=useParams(),_id=_useParams._id;var _useState=useState({pirateName:\"\",imageUrl:\"\",numChests:0,catchPhrase:\"\",crewPosition:\"\",pegLeg:true,eyePatch:true,hookHand:true}),_useState2=_slicedToArray(_useState,2),one=_useState2[0],setOne=_useState2[1];var _useState3=useState({name:{}}),_useState4=_slicedToArray(_useState3,2),error=_useState4[0],setError=_useState4[1];var history=useHistory();useEffect(function(){p(\"useEffect Running\");axios.get(\"http://localhost:9000/api/pirate/\".concat(_id)).then(function(res){console.log(res.data);setOne(res.data);}).catch(function(err){return console.log(err);});},[_id]);// useEffect(() => {\n//   p(\"useEffect2 Running\");\n//   const copyState = {\n//     pirateName: one.pirateName,\n//     imageUrl: one.imageUrl,\n//     numChests: one.numChests,\n//     catchPhrase: one.catchPhrase,\n//     crewPosition: one.crewPosition,\n//     pegLeg: one.pegLeg,\n//     eyePatch: one.eyePatch,\n//     hookHand: one.hookHand,\n//   };\n//   axios\n//     .patch(`http://localhost:9000/api/pirate/update/${_id}`, copyState)\n//     .then((res) => {\n//       console.log(\"Edit | onSubmitHandler | Success Submitting\")\n//       console.log(res.data);\n//       history.push(`/`);\n//     })\n//     .catch((err) => {\n//       p(\"Edit | onSubmitHandler | Error\");\n//       console.log(err.response.data.error.errors);\n//       setError(err.response.data.error.errors);\n//     });\n// // one.pegLeg, one.eyePatch, one.hookHand\n// }, [one.pegLeg, one.eyePatch, one.hookHand]);\nvar onDeleteHandler=function onDeleteHandler(_id,pirateName){if(window.confirm(\"Are you sure you want to delete \".concat(pirateName,\"?\"))){console.log(\"inside on click delete\");axios.delete(\"http://localhost:9000/api/pirate/delete/\".concat(_id)).then(function(res){return console.log(res.data);}).catch(function(err){return console.log(err);});}};var onClickHandlerPegLeg=function onClickHandlerPegLeg(event){event.preventDefault();console.log(\"Single | onClickHandler | Jumped In\");console.log(_defineProperty({},event.target.name,event.target.value?\"true\":\"false\"));var copyState={pegLeg:!one.pegLeg};setOne(_objectSpread(_objectSpread({},one),{},{pegLeg:!one.pegLeg}));// setOne({\n//   pirateName: one.pirateName,\n//   imageUrl: one.imageUrl,\n//   numChests: one.numChests,\n//   catchPhrase: one.catchPhrase,\n//   crewPosition: one.crewPosition,\n//   pegLeg: !one.pegLeg,\n//   eyePatch: one.eyePatch,\n//   hookHand: one.hookHand,\n//   // [event.target.name]: !event.target.value,\n// });\nconsole.log(\"CopyState:\");console.log(copyState);axios.patch(\"http://localhost:9000/api/pirate/update/\".concat(_id),copyState).then(function(res){console.log(\"Single | onClickHandler | Success Submitting\");console.log(res.data);// history.push(`/`);\n}).catch(function(err){p(\"Single | onClickHandler | Error\");console.log(err.response.data.error.errors);setError(err.response.data.error.errors);});};var onClickHandlerEyePatch=function onClickHandlerEyePatch(event){event.preventDefault();console.log(\"Single | onClickHandler | Jumped In\");console.log(_defineProperty({},event.target.name,event.target.value?\"true\":\"false\"));var copyState={eyePatch:!one.eyePatch};setOne(_objectSpread(_objectSpread({},one),{},{eyePatch:!one.eyePatch}));// setOne({\n//   pirateName: one.pirateName,\n//   imageUrl: one.imageUrl,\n//   numChests: one.numChests,\n//   catchPhrase: one.catchPhrase,\n//   crewPosition: one.crewPosition,\n//   pegLeg: one.pegLeg,\n//   eyePatch: !one.eyePatch,\n//   hookHand: one.hookHand,\n//   // [event.target.name]: !event.target.value,\n// });\nconsole.log(\"CopyState:\");console.log(copyState);axios.patch(\"http://localhost:9000/api/pirate/update/\".concat(_id),copyState).then(function(res){console.log(\"Single | onClickHandler | Success Submitting\");console.log(res.data);// history.push(`/`);\n}).catch(function(err){p(\"Single | onClickHandler | Error\");console.log(err.response.data.error.errors);setError(err.response.data.error.errors);});};var onClickHandlerHookHand=function onClickHandlerHookHand(event){event.preventDefault();console.log(\"Single | onClickHandler | Jumped In\");console.log(_defineProperty({},event.target.name,event.target.value?\"true\":\"false\"));var copyState={hookHand:!one.hookHand};setOne(_objectSpread(_objectSpread({},one),{},{hookHand:!one.hookHand}));console.log(\"CopyState:\");console.log(copyState);axios.patch(\"http://localhost:9000/api/pirate/update/\".concat(_id),copyState).then(function(res){console.log(\"Single | onClickHandler | Success Submitting\");console.log(res.data);// history.push(`/`);\n}).catch(function(err){p(\"Single | onClickHandler | Error\");console.log(err.response.data.error.errors);setError(err.response.data.error.errors);});};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"box\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"View Pirate Details\"}),/*#__PURE__*/_jsx(Link,{to:\"/\",children:/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-secondary mx-4\",children:\"Back to Crew\"})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"box\",children:[/*#__PURE__*/_jsx(Link,{to:\"/\",children:/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){onDeleteHandler(one._id,one.pirateName);},className:\"btn btn-danger mx-4\",children:\"Delete Pirate\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"lr\",children:[/*#__PURE__*/_jsx(\"h1\",{children:one.pirateName}),/*#__PURE__*/_jsx(\"img\",{src:one.imageUrl,alt:\"imageUrl\"}),/*#__PURE__*/_jsxs(\"h1\",{children:[\"\\\"\",one.catchPhrase,\"\\\"\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"lr\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"About\"}),/*#__PURE__*/_jsxs(\"table\",{className:\"table table-sm table-hover \",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{}),/*#__PURE__*/_jsx(\"th\",{}),/*#__PURE__*/_jsx(\"th\",{})]})}),/*#__PURE__*/_jsxs(\"tbody\",{children:[/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{className:\"align-middle text-end\",children:\"Crew Position:\"}),/*#__PURE__*/_jsx(\"td\",{className:\"align-middle text-start\",children:one.crewPosition}),/*#__PURE__*/_jsx(\"td\",{className:\"align-middle\"})]}),/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{className:\"align-middle text-end\",children:\"Number of Chests:\"}),/*#__PURE__*/_jsx(\"td\",{className:\"align-middle text-start\",children:one.numChests}),/*#__PURE__*/_jsx(\"td\",{className:\"align-middle\"})]}),/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{className:\"align-middle text-end\",children:\"Peg-Leg:\"}),/*#__PURE__*/_jsx(\"td\",{className:\"align-middle text-start\",children:one.pegLeg?\"Yes\":\"No\"}),/*#__PURE__*/_jsx(\"td\",{className:\"align-middle text-end\",children:/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(event){return onClickHandlerPegLeg(event);},className:\"btn btn-secondary mx-4\",name:\"pegLeg\",children:one.pegLeg?\"No\":\"Yes\"})})]}),/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{className:\"align-middle text-end\",children:\"Eye-Patch:\"}),/*#__PURE__*/_jsx(\"td\",{className:\"align-middle text-start\",children:one.eyePatch?\"Yes\":\"No\"}),/*#__PURE__*/_jsx(\"td\",{className:\"align-middle text-end\",children:/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(event){return onClickHandlerEyePatch(event);},className:\"btn btn-secondary mx-4\",name:\"eyePatch\",children:one.eyePatch?\"No\":\"Yes\"})})]}),/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{className:\"align-middle text-end\",children:\"Hook-Hand:\"}),/*#__PURE__*/_jsx(\"td\",{className:\"align-middle text-start\",children:one.hookHand?\"Yes\":\"No\"}),/*#__PURE__*/_jsx(\"td\",{className:\"align-middle text-end\",children:/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(event){return onClickHandlerHookHand(event);},className:\"btn btn-secondary mx-4\",name:\"hookHand\",children:one.hookHand?\"No\":\"Yes\"})})]})]})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"box2\",children:[/*#__PURE__*/_jsx(\"h4\",{children:\"Raw MongoDB Pirate Data\"}),/*#__PURE__*/_jsxs(\"table\",{className:\"table table-sm table-hover \",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"Key\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Value\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:Object.entries(one).map(function(item,i){return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:item[0]}),/*#__PURE__*/_jsx(\"td\",{className:\"text-break\",children:typeof item[1]==='boolean'?item[1]?\"true\":\"false\":item[1]})]},i);})})]})]})]});};export default Single;// module.exports.findOneSinglePIRATE = (req, res) => {\n//     PIRATE.findOne({ _id: req.params._id })\n//       .then((oneSinglePIRATE) => res.json(oneSinglePIRATE))\n//       .catch((err) =>\n//         res.status(400).json({ message: \"Something went wrong\", error: err })\n//       );\n//   };","map":{"version":3,"sources":["C:/Users/nieme/Documents/CodingDojo/MERNStack2022/exam/client/src/views/Single.jsx"],"names":["React","useEffect","useState","createElement","useParams","Switch","Route","Link","axios","useHistory","p","a","console","log","Single","props","_id","pirateName","imageUrl","numChests","catchPhrase","crewPosition","pegLeg","eyePatch","hookHand","one","setOne","name","error","setError","history","get","then","res","data","catch","err","onDeleteHandler","window","confirm","delete","onClickHandlerPegLeg","event","preventDefault","target","value","copyState","patch","response","errors","onClickHandlerEyePatch","onClickHandlerHookHand","Object","entries","map","item","i"],"mappings":"0bAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAASC,SAAT,CAAoBC,QAApB,CAA8BC,aAA9B,KAAmD,OAAnD,CACA,OAASC,SAAT,KAA0B,2CAA1B,CACA,OAASC,MAAT,CAAiBC,KAAjB,CAAwBC,IAAxB,KAAoC,kBAApC,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAASC,UAAT,KAA2B,2CAA3B,C,6IAEA,GAAMC,CAAAA,CAAC,CAAG,QAAJA,CAAAA,CAAI,CAACC,CAAD,CAAO,CACfC,OAAO,CAACC,GAAR,CAAYF,CAAZ,EACD,CAFD,CAGA,GAAMG,CAAAA,MAAM,CAAG,QAATA,CAAAA,MAAS,CAACC,KAAD,CAAW,CACxB,eAAgBX,SAAS,EAAzB,CAAQY,GAAR,YAAQA,GAAR,CACA,cAAsBd,QAAQ,CAAC,CAC7Be,UAAU,CAAE,EADiB,CAE7BC,QAAQ,CAAE,EAFmB,CAG7BC,SAAS,CAAE,CAHkB,CAI7BC,WAAW,CAAE,EAJgB,CAK7BC,YAAY,CAAE,EALe,CAM7BC,MAAM,CAAE,IANqB,CAO7BC,QAAQ,CAAE,IAPmB,CAQ7BC,QAAQ,CAAE,IARmB,CAAD,CAA9B,wCAAOC,GAAP,eAAYC,MAAZ,eAUA,eAA0BxB,QAAQ,CAAC,CAAEyB,IAAI,CAAE,EAAR,CAAD,CAAlC,yCAAOC,KAAP,eAAcC,QAAd,eAEA,GAAMC,CAAAA,OAAO,CAAGrB,UAAU,EAA1B,CAEAR,SAAS,CAAC,UAAM,CACdS,CAAC,CAAC,mBAAD,CAAD,CAEAF,KAAK,CACFuB,GADH,4CAC2Cf,GAD3C,GAEGgB,IAFH,CAEQ,SAACC,GAAD,CAAS,CACbrB,OAAO,CAACC,GAAR,CAAYoB,GAAG,CAACC,IAAhB,EACAR,MAAM,CAACO,GAAG,CAACC,IAAL,CAAN,CACD,CALH,EAMGC,KANH,CAMS,SAACC,GAAD,QAASxB,CAAAA,OAAO,CAACC,GAAR,CAAYuB,GAAZ,CAAT,EANT,EAOD,CAVQ,CAUN,CAACpB,GAAD,CAVM,CAAT,CAYA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA,GAAMqB,CAAAA,eAAe,CAAG,QAAlBA,CAAAA,eAAkB,CAACrB,GAAD,CAAMC,UAAN,CAAqB,CAC3C,GAAIqB,MAAM,CAACC,OAAP,2CAAkDtB,UAAlD,MAAJ,CAAsE,CACpEL,OAAO,CAACC,GAAR,CAAY,wBAAZ,EACAL,KAAK,CACFgC,MADH,mDACqDxB,GADrD,GAEGgB,IAFH,CAEQ,SAACC,GAAD,QAASrB,CAAAA,OAAO,CAACC,GAAR,CAAYoB,GAAG,CAACC,IAAhB,CAAT,EAFR,EAGGC,KAHH,CAGS,SAACC,GAAD,QAASxB,CAAAA,OAAO,CAACC,GAAR,CAAYuB,GAAZ,CAAT,EAHT,EAID,CACF,CARD,CAUA,GAAMK,CAAAA,oBAAoB,CAAG,QAAvBA,CAAAA,oBAAuB,CAACC,KAAD,CAAW,CACtCA,KAAK,CAACC,cAAN,GACA/B,OAAO,CAACC,GAAR,CAAY,qCAAZ,EAEAD,OAAO,CAACC,GAAR,oBAAe6B,KAAK,CAACE,MAAN,CAAajB,IAA5B,CAAmCe,KAAK,CAACE,MAAN,CAAaC,KAAb,CAAqB,MAArB,CAA8B,OAAjE,GAEA,GAAMC,CAAAA,SAAS,CAAG,CAChBxB,MAAM,CAAE,CAACG,GAAG,CAACH,MADG,CAAlB,CAIAI,MAAM,gCACDD,GADC,MAEJH,MAAM,CAAE,CAACG,GAAG,CAACH,MAFT,GAAN,CAKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEAV,OAAO,CAACC,GAAR,CAAY,YAAZ,EACAD,OAAO,CAACC,GAAR,CAAYiC,SAAZ,EAEAtC,KAAK,CACFuC,KADH,mDACoD/B,GADpD,EAC2D8B,SAD3D,EAEGd,IAFH,CAEQ,SAACC,GAAD,CAAS,CACbrB,OAAO,CAACC,GAAR,CAAY,8CAAZ,EACAD,OAAO,CAACC,GAAR,CAAYoB,GAAG,CAACC,IAAhB,EACA;AACD,CANH,EAOGC,KAPH,CAOS,SAACC,GAAD,CAAS,CACd1B,CAAC,CAAC,iCAAD,CAAD,CACAE,OAAO,CAACC,GAAR,CAAYuB,GAAG,CAACY,QAAJ,CAAad,IAAb,CAAkBN,KAAlB,CAAwBqB,MAApC,EACApB,QAAQ,CAACO,GAAG,CAACY,QAAJ,CAAad,IAAb,CAAkBN,KAAlB,CAAwBqB,MAAzB,CAAR,CACD,CAXH,EAYD,CA1CD,CA2CA,GAAMC,CAAAA,sBAAsB,CAAG,QAAzBA,CAAAA,sBAAyB,CAACR,KAAD,CAAW,CACxCA,KAAK,CAACC,cAAN,GACA/B,OAAO,CAACC,GAAR,CAAY,qCAAZ,EAEAD,OAAO,CAACC,GAAR,oBAAe6B,KAAK,CAACE,MAAN,CAAajB,IAA5B,CAAmCe,KAAK,CAACE,MAAN,CAAaC,KAAb,CAAqB,MAArB,CAA8B,OAAjE,GAEA,GAAMC,CAAAA,SAAS,CAAG,CAChBvB,QAAQ,CAAE,CAACE,GAAG,CAACF,QADC,CAAlB,CAIAG,MAAM,gCACDD,GADC,MAEJF,QAAQ,CAAE,CAACE,GAAG,CAACF,QAFX,GAAN,CAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEAX,OAAO,CAACC,GAAR,CAAY,YAAZ,EACAD,OAAO,CAACC,GAAR,CAAYiC,SAAZ,EAEAtC,KAAK,CACFuC,KADH,mDACoD/B,GADpD,EAC2D8B,SAD3D,EAEGd,IAFH,CAEQ,SAACC,GAAD,CAAS,CACbrB,OAAO,CAACC,GAAR,CAAY,8CAAZ,EACAD,OAAO,CAACC,GAAR,CAAYoB,GAAG,CAACC,IAAhB,EACA;AACD,CANH,EAOGC,KAPH,CAOS,SAACC,GAAD,CAAS,CACd1B,CAAC,CAAC,iCAAD,CAAD,CACAE,OAAO,CAACC,GAAR,CAAYuB,GAAG,CAACY,QAAJ,CAAad,IAAb,CAAkBN,KAAlB,CAAwBqB,MAApC,EACApB,QAAQ,CAACO,GAAG,CAACY,QAAJ,CAAad,IAAb,CAAkBN,KAAlB,CAAwBqB,MAAzB,CAAR,CACD,CAXH,EAYD,CAzCD,CA0CA,GAAME,CAAAA,sBAAsB,CAAG,QAAzBA,CAAAA,sBAAyB,CAACT,KAAD,CAAW,CACxCA,KAAK,CAACC,cAAN,GACA/B,OAAO,CAACC,GAAR,CAAY,qCAAZ,EAEAD,OAAO,CAACC,GAAR,oBAAe6B,KAAK,CAACE,MAAN,CAAajB,IAA5B,CAAmCe,KAAK,CAACE,MAAN,CAAaC,KAAb,CAAqB,MAArB,CAA8B,OAAjE,GAEA,GAAMC,CAAAA,SAAS,CAAG,CAChBtB,QAAQ,CAAE,CAACC,GAAG,CAACD,QADC,CAAlB,CAIAE,MAAM,gCACDD,GADC,MAEJD,QAAQ,CAAE,CAACC,GAAG,CAACD,QAFX,GAAN,CAKAZ,OAAO,CAACC,GAAR,CAAY,YAAZ,EACAD,OAAO,CAACC,GAAR,CAAYiC,SAAZ,EAEAtC,KAAK,CACFuC,KADH,mDACoD/B,GADpD,EAC2D8B,SAD3D,EAEGd,IAFH,CAEQ,SAACC,GAAD,CAAS,CACbrB,OAAO,CAACC,GAAR,CAAY,8CAAZ,EACAD,OAAO,CAACC,GAAR,CAAYoB,GAAG,CAACC,IAAhB,EACA;AACD,CANH,EAOGC,KAPH,CAOS,SAACC,GAAD,CAAS,CACd1B,CAAC,CAAC,iCAAD,CAAD,CACAE,OAAO,CAACC,GAAR,CAAYuB,GAAG,CAACY,QAAJ,CAAad,IAAb,CAAkBN,KAAlB,CAAwBqB,MAApC,EACApB,QAAQ,CAACO,GAAG,CAACY,QAAJ,CAAad,IAAb,CAAkBN,KAAlB,CAAwBqB,MAAzB,CAAR,CACD,CAXH,EAYD,CA9BD,CAgCA,mBACE,wCACE,aAAK,SAAS,CAAC,KAAf,wBACE,2CADF,cAEE,KAAC,IAAD,EAAM,EAAE,CAAE,GAAV,uBACE,eAAQ,SAAS,CAAC,wBAAlB,0BADF,EAFF,GADF,cAOE,aAAK,SAAS,CAAC,KAAf,wBACE,KAAC,IAAD,EAAM,EAAE,IAAR,uBACE,eACE,OAAO,CAAE,kBAAM,CACbZ,eAAe,CAACZ,GAAG,CAACT,GAAL,CAAUS,GAAG,CAACR,UAAd,CAAf,CACD,CAHH,CAIE,SAAS,CAAC,qBAJZ,2BADF,EADF,cAWE,aAAK,SAAS,CAAC,IAAf,wBACE,oBAAKQ,GAAG,CAACR,UAAT,EADF,cAEE,YAAK,GAAG,CAAEQ,GAAG,CAACP,QAAd,CAAwB,GAAG,CAAC,UAA5B,EAFF,cAGE,2BAAMO,GAAG,CAACL,WAAV,QAHF,GAXF,cAgBE,aAAK,SAAS,CAAC,IAAf,wBACE,6BADF,cAEE,eAAO,SAAS,CAAC,6BAAjB,wBACE,oCACE,mCACE,aADF,cAEE,aAFF,cAGE,aAHF,GADF,EADF,cAQE,sCACE,mCACE,WAAI,SAAS,CAAC,uBAAd,4BADF,cAEE,WAAI,SAAS,CAAC,yBAAd,UAAyCK,GAAG,CAACJ,YAA7C,EAFF,cAGE,WAAI,SAAS,CAAC,cAAd,EAHF,GADF,cAME,mCACE,WAAI,SAAS,CAAC,uBAAd,+BADF,cAEE,WAAI,SAAS,CAAC,yBAAd,UAAyCI,GAAG,CAACN,SAA7C,EAFF,cAGE,WAAI,SAAS,CAAC,cAAd,EAHF,GANF,cAWE,mCACE,WAAI,SAAS,CAAC,uBAAd,sBADF,cAEE,WAAI,SAAS,CAAC,yBAAd,UAAyCM,GAAG,CAACH,MAAJ,CAAa,KAAb,CAAqB,IAA9D,EAFF,cAGE,WAAI,SAAS,CAAC,uBAAd,uBACE,eACE,OAAO,CAAE,iBAACoB,KAAD,QAAWD,CAAAA,oBAAoB,CAACC,KAAD,CAA/B,EADX,CAEE,SAAS,CAAC,wBAFZ,CAGE,IAAI,CAAC,QAHP,UAKGjB,GAAG,CAACH,MAAJ,CAAa,IAAb,CAAoB,KALvB,EADF,EAHF,GAXF,cAwBE,mCACE,WAAI,SAAS,CAAC,uBAAd,wBADF,cAEE,WAAI,SAAS,CAAC,yBAAd,UAAyCG,GAAG,CAACF,QAAJ,CAAe,KAAf,CAAuB,IAAhE,EAFF,cAGE,WAAI,SAAS,CAAC,uBAAd,uBACE,eACE,OAAO,CAAE,iBAACmB,KAAD,QAAWQ,CAAAA,sBAAsB,CAACR,KAAD,CAAjC,EADX,CAEE,SAAS,CAAC,wBAFZ,CAGE,IAAI,CAAC,UAHP,UAKGjB,GAAG,CAACF,QAAJ,CAAe,IAAf,CAAsB,KALzB,EADF,EAHF,GAxBF,cAqCE,mCACE,WAAI,SAAS,CAAC,uBAAd,wBADF,cAEE,WAAI,SAAS,CAAC,yBAAd,UAAyCE,GAAG,CAACD,QAAJ,CAAe,KAAf,CAAuB,IAAhE,EAFF,cAGE,WAAI,SAAS,CAAC,uBAAd,uBACE,eACE,OAAO,CAAE,iBAACkB,KAAD,QAAWS,CAAAA,sBAAsB,CAACT,KAAD,CAAjC,EADX,CAEE,SAAS,CAAC,wBAFZ,CAGE,IAAI,CAAC,UAHP,UAKGjB,GAAG,CAACD,QAAJ,CAAe,IAAf,CAAsB,KALzB,EADF,EAHF,GArCF,GARF,GAFF,GAhBF,GAPF,cAuFE,aAAK,SAAS,CAAC,MAAf,wBACE,+CADF,cAEE,eAAO,SAAS,CAAC,6BAAjB,wBACE,oCACE,mCACE,2BADF,cAEE,6BAFF,GADF,EADF,cAOE,uBACG4B,MAAM,CAACC,OAAP,CAAe5B,GAAf,EAAoB6B,GAApB,CAAwB,SAACC,IAAD,CAAOC,CAAP,CAAa,CACpC,mBACE,mCACE,oBAAKD,IAAI,CAAC,CAAD,CAAT,EADF,cAEE,WAAI,SAAS,CAAC,YAAd,UAA4B,MAAOA,CAAAA,IAAI,CAAC,CAAD,CAAX,GAAmB,SAAnB,CAAgCA,IAAI,CAAC,CAAD,CAAJ,CAAU,MAAV,CAAmB,OAAnD,CAA8DA,IAAI,CAAC,CAAD,CAA9F,EAFF,GAASC,CAAT,CADF,CASD,CAVA,CADH,EAPF,GAFF,GAvFF,GADF,CAkHD,CA3SD,CA6SA,cAAe1C,CAAAA,MAAf,CAEA;AACA;AACA;AACA;AACA;AACA;AACA","sourcesContent":["import React from \"react\";\r\nimport { useEffect, useState, createElement } from \"react\";\r\nimport { useParams } from \"react-router-dom/cjs/react-router-dom.min\";\r\nimport { Switch, Route, Link } from \"react-router-dom\";\r\nimport axios from \"axios\";\r\nimport { useHistory } from \"react-router-dom/cjs/react-router-dom.min\";\r\n\r\nconst p = (a) => {\r\n  console.log(a);\r\n};\r\nconst Single = (props) => {\r\n  const { _id } = useParams();\r\n  const [one, setOne] = useState({\r\n    pirateName: \"\",\r\n    imageUrl: \"\",\r\n    numChests: 0,\r\n    catchPhrase: \"\",\r\n    crewPosition: \"\",\r\n    pegLeg: true,\r\n    eyePatch: true,\r\n    hookHand: true,\r\n  });\r\n  const [error, setError] = useState({ name: {} });\r\n\r\n  const history = useHistory();\r\n\r\n  useEffect(() => {\r\n    p(\"useEffect Running\");\r\n\r\n    axios\r\n      .get(`http://localhost:9000/api/pirate/${_id}`)\r\n      .then((res) => {\r\n        console.log(res.data);\r\n        setOne(res.data);\r\n      })\r\n      .catch((err) => console.log(err));\r\n  }, [_id]);\r\n\r\n  // useEffect(() => {\r\n  //   p(\"useEffect2 Running\");\r\n\r\n  //   const copyState = {\r\n  //     pirateName: one.pirateName,\r\n  //     imageUrl: one.imageUrl,\r\n  //     numChests: one.numChests,\r\n  //     catchPhrase: one.catchPhrase,\r\n  //     crewPosition: one.crewPosition,\r\n  //     pegLeg: one.pegLeg,\r\n  //     eyePatch: one.eyePatch,\r\n  //     hookHand: one.hookHand,\r\n  //   };\r\n\r\n  //   axios\r\n  //     .patch(`http://localhost:9000/api/pirate/update/${_id}`, copyState)\r\n  //     .then((res) => {\r\n  //       console.log(\"Edit | onSubmitHandler | Success Submitting\")\r\n  //       console.log(res.data);\r\n  //       history.push(`/`);\r\n  //     })\r\n  //     .catch((err) => {\r\n  //       p(\"Edit | onSubmitHandler | Error\");\r\n  //       console.log(err.response.data.error.errors);\r\n  //       setError(err.response.data.error.errors);\r\n  //     });\r\n\r\n  // // one.pegLeg, one.eyePatch, one.hookHand\r\n  // }, [one.pegLeg, one.eyePatch, one.hookHand]);\r\n\r\n  const onDeleteHandler = (_id, pirateName) => {\r\n    if (window.confirm(`Are you sure you want to delete ${pirateName}?`)) {\r\n      console.log(\"inside on click delete\");\r\n      axios\r\n        .delete(`http://localhost:9000/api/pirate/delete/${_id}`)\r\n        .then((res) => console.log(res.data))\r\n        .catch((err) => console.log(err));\r\n    }\r\n  };\r\n\r\n  const onClickHandlerPegLeg = (event) => {\r\n    event.preventDefault();\r\n    console.log(\"Single | onClickHandler | Jumped In\");\r\n\r\n    console.log({ [event.target.name]: event.target.value ? \"true\" : \"false\" });\r\n\r\n    const copyState = {\r\n      pegLeg: !one.pegLeg,\r\n    };\r\n\r\n    setOne({\r\n      ...one,\r\n      pegLeg: !one.pegLeg,\r\n    });\r\n\r\n    // setOne({\r\n    //   pirateName: one.pirateName,\r\n    //   imageUrl: one.imageUrl,\r\n    //   numChests: one.numChests,\r\n    //   catchPhrase: one.catchPhrase,\r\n    //   crewPosition: one.crewPosition,\r\n    //   pegLeg: !one.pegLeg,\r\n    //   eyePatch: one.eyePatch,\r\n    //   hookHand: one.hookHand,\r\n    //   // [event.target.name]: !event.target.value,\r\n    // });\r\n\r\n    console.log(\"CopyState:\");\r\n    console.log(copyState);\r\n\r\n    axios\r\n      .patch(`http://localhost:9000/api/pirate/update/${_id}`, copyState)\r\n      .then((res) => {\r\n        console.log(\"Single | onClickHandler | Success Submitting\");\r\n        console.log(res.data);\r\n        // history.push(`/`);\r\n      })\r\n      .catch((err) => {\r\n        p(\"Single | onClickHandler | Error\");\r\n        console.log(err.response.data.error.errors);\r\n        setError(err.response.data.error.errors);\r\n      });\r\n  };\r\n  const onClickHandlerEyePatch = (event) => {\r\n    event.preventDefault();\r\n    console.log(\"Single | onClickHandler | Jumped In\");\r\n\r\n    console.log({ [event.target.name]: event.target.value ? \"true\" : \"false\" });\r\n\r\n    const copyState = {\r\n      eyePatch: !one.eyePatch,\r\n    };\r\n\r\n    setOne({\r\n      ...one,\r\n      eyePatch: !one.eyePatch,\r\n    });\r\n    // setOne({\r\n    //   pirateName: one.pirateName,\r\n    //   imageUrl: one.imageUrl,\r\n    //   numChests: one.numChests,\r\n    //   catchPhrase: one.catchPhrase,\r\n    //   crewPosition: one.crewPosition,\r\n    //   pegLeg: one.pegLeg,\r\n    //   eyePatch: !one.eyePatch,\r\n    //   hookHand: one.hookHand,\r\n    //   // [event.target.name]: !event.target.value,\r\n    // });\r\n\r\n    console.log(\"CopyState:\");\r\n    console.log(copyState);\r\n\r\n    axios\r\n      .patch(`http://localhost:9000/api/pirate/update/${_id}`, copyState)\r\n      .then((res) => {\r\n        console.log(\"Single | onClickHandler | Success Submitting\");\r\n        console.log(res.data);\r\n        // history.push(`/`);\r\n      })\r\n      .catch((err) => {\r\n        p(\"Single | onClickHandler | Error\");\r\n        console.log(err.response.data.error.errors);\r\n        setError(err.response.data.error.errors);\r\n      });\r\n  };\r\n  const onClickHandlerHookHand = (event) => {\r\n    event.preventDefault();\r\n    console.log(\"Single | onClickHandler | Jumped In\");\r\n\r\n    console.log({ [event.target.name]: event.target.value ? \"true\" : \"false\" });\r\n\r\n    const copyState = {\r\n      hookHand: !one.hookHand,\r\n    };\r\n\r\n    setOne({\r\n      ...one,\r\n      hookHand: !one.hookHand,\r\n    });\r\n\r\n    console.log(\"CopyState:\");\r\n    console.log(copyState);\r\n\r\n    axios\r\n      .patch(`http://localhost:9000/api/pirate/update/${_id}`, copyState)\r\n      .then((res) => {\r\n        console.log(\"Single | onClickHandler | Success Submitting\");\r\n        console.log(res.data);\r\n        // history.push(`/`);\r\n      })\r\n      .catch((err) => {\r\n        p(\"Single | onClickHandler | Error\");\r\n        console.log(err.response.data.error.errors);\r\n        setError(err.response.data.error.errors);\r\n      });\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <div className=\"box\">\r\n        <h2>View Pirate Details</h2>\r\n        <Link to={\"/\"}>\r\n          <button className=\"btn btn-secondary mx-4\">Back to Crew</button>\r\n        </Link>\r\n      </div>\r\n      <div className=\"box\">\r\n        <Link to={`/`}>\r\n          <button\r\n            onClick={() => {\r\n              onDeleteHandler(one._id, one.pirateName);\r\n            }}\r\n            className=\"btn btn-danger mx-4\"\r\n          >\r\n            Delete Pirate\r\n          </button>\r\n        </Link>\r\n        <div className=\"lr\">\r\n          <h1>{one.pirateName}</h1>\r\n          <img src={one.imageUrl} alt=\"imageUrl\" />\r\n          <h1>\"{one.catchPhrase}\"</h1>\r\n        </div>\r\n        <div className=\"lr\">\r\n          <h1>About</h1>\r\n          <table className=\"table table-sm table-hover \">\r\n            <thead>\r\n              <tr>\r\n                <th></th>\r\n                <th></th>\r\n                <th></th>\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              <tr>\r\n                <td className=\"align-middle text-end\">Crew Position:</td>\r\n                <td className=\"align-middle text-start\">{one.crewPosition}</td>\r\n                <td className=\"align-middle\"></td>\r\n              </tr>\r\n              <tr>\r\n                <td className=\"align-middle text-end\">Number of Chests:</td>\r\n                <td className=\"align-middle text-start\">{one.numChests}</td>\r\n                <td className=\"align-middle\"></td>\r\n              </tr>\r\n              <tr>\r\n                <td className=\"align-middle text-end\">Peg-Leg:</td>\r\n                <td className=\"align-middle text-start\">{one.pegLeg ? \"Yes\" : \"No\"}</td>\r\n                <td className=\"align-middle text-end\">\r\n                  <button\r\n                    onClick={(event) => onClickHandlerPegLeg(event)}\r\n                    className=\"btn btn-secondary mx-4\"\r\n                    name=\"pegLeg\"\r\n                  >\r\n                    {one.pegLeg ? \"No\" : \"Yes\"}\r\n                  </button>\r\n                </td>\r\n              </tr>\r\n              <tr>\r\n                <td className=\"align-middle text-end\">Eye-Patch:</td>\r\n                <td className=\"align-middle text-start\">{one.eyePatch ? \"Yes\" : \"No\"}</td>\r\n                <td className=\"align-middle text-end\">\r\n                  <button\r\n                    onClick={(event) => onClickHandlerEyePatch(event)}\r\n                    className=\"btn btn-secondary mx-4\"\r\n                    name=\"eyePatch\"\r\n                  >\r\n                    {one.eyePatch ? \"No\" : \"Yes\"}\r\n                  </button>\r\n                </td>\r\n              </tr>\r\n              <tr>\r\n                <td className=\"align-middle text-end\">Hook-Hand:</td>\r\n                <td className=\"align-middle text-start\">{one.hookHand ? \"Yes\" : \"No\"}</td>\r\n                <td className=\"align-middle text-end\">\r\n                  <button\r\n                    onClick={(event) => onClickHandlerHookHand(event)}\r\n                    className=\"btn btn-secondary mx-4\"\r\n                    name=\"hookHand\"\r\n                  >\r\n                    {one.hookHand ? \"No\" : \"Yes\"}\r\n                  </button>\r\n                </td>\r\n              </tr>\r\n            </tbody>\r\n          </table>\r\n        </div>\r\n      </div>\r\n      <div className=\"box2\">\r\n        <h4>Raw MongoDB Pirate Data</h4>\r\n        <table className=\"table table-sm table-hover \">\r\n          <thead>\r\n            <tr>\r\n              <th>Key</th>\r\n              <th>Value</th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            {Object.entries(one).map((item, i) => {\r\n              return (\r\n                <tr key={i}>\r\n                  <td>{item[0]}</td>\r\n                  <td className=\"text-break\">{typeof item[1] === 'boolean' ? (item[1] ? \"true\" : \"false\") : item[1]}</td>\r\n                  {/* <td style={{(item[1].length > 10 ? { fontSize: \"10px\" } : {fontSize = \"20px\"})}}>\r\n                    {item[1]}\r\n                  </td> */}\r\n                </tr>\r\n              );\r\n            })}\r\n          </tbody>\r\n        </table>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Single;\r\n\r\n// module.exports.findOneSinglePIRATE = (req, res) => {\r\n//     PIRATE.findOne({ _id: req.params._id })\r\n//       .then((oneSinglePIRATE) => res.json(oneSinglePIRATE))\r\n//       .catch((err) =>\r\n//         res.status(400).json({ message: \"Something went wrong\", error: err })\r\n//       );\r\n//   };\r\n"]},"metadata":{},"sourceType":"module"}