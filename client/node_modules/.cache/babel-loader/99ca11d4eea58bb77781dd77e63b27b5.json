{"ast":null,"code":"import _toConsumableArray from\"C:/Users/nieme/Documents/CodingDojo/MERNStack2022/exam/client/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _objectSpread from\"C:/Users/nieme/Documents/CodingDojo/MERNStack2022/exam/client/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _defineProperty from\"C:/Users/nieme/Documents/CodingDojo/MERNStack2022/exam/client/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _slicedToArray from\"C:/Users/nieme/Documents/CodingDojo/MERNStack2022/exam/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React from\"react\";import{useEffect,useState,createElement}from\"react\";import{useParams}from\"react-router-dom/cjs/react-router-dom.min\";import{Switch,Route,Link}from\"react-router-dom\";import axios from\"axios\";import{useHistory}from\"react-router-dom/cjs/react-router-dom.min\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var p=function p(a){console.log(a);};var Single=function Single(props){var _useParams=useParams(),_id=_useParams._id;var _useState=useState({pirateName:\"\",imageUrl:\"\",numChests:0,catchPhrase:\"\",crewPosition:\"\",pegLeg:true,eyePatch:true,hookHand:true}),_useState2=_slicedToArray(_useState,2),one=_useState2[0],setOne=_useState2[1];var _useState3=useState({name:{}}),_useState4=_slicedToArray(_useState3,2),error=_useState4[0],setError=_useState4[1];var _useState5=useState(\"‚ùå\"),_useState6=_slicedToArray(_useState5,2),chests=_useState6[0],setChests=_useState6[1];var history=useHistory();useEffect(function(){p(\"useEffect Running\");axios.get(\"http://localhost:9000/api/pirate/\".concat(_id)).then(function(res){console.log(res.data);setOne(res.data);}).catch(function(err){return console.log(err);});// var c = \"\";\n// for (var i = 0; i < one.numChests; i++) {\n//   c += \"üí∞\";\n// }\n// setChests(c);\n},[_id]);// useEffect(() => {\n//   p(\"useEffect2 Running\");\n//   const copyState = {\n//     pirateName: one.pirateName,\n//     imageUrl: one.imageUrl,\n//     numChests: one.numChests,\n//     catchPhrase: one.catchPhrase,\n//     crewPosition: one.crewPosition,\n//     pegLeg: one.pegLeg,\n//     eyePatch: one.eyePatch,\n//     hookHand: one.hookHand,\n//   };\n//   axios\n//     .patch(`http://localhost:9000/api/pirate/update/${_id}`, copyState)\n//     .then((res) => {\n//       console.log(\"Edit | onSubmitHandler | Success Submitting\")\n//       console.log(res.data);\n//       history.push(`/`);\n//     })\n//     .catch((err) => {\n//       p(\"Edit | onSubmitHandler | Error\");\n//       console.log(err.response.data.error.errors);\n//       setError(err.response.data.error.errors);\n//     });\n// // one.pegLeg, one.eyePatch, one.hookHand\n// }, [one.pegLeg, one.eyePatch, one.hookHand]);\nvar onDeleteHandler=function onDeleteHandler(_id,pirateName){if(window.confirm(\"Are you sure you want to delete \".concat(pirateName,\"?\"))){console.log(\"inside on click delete\");axios.delete(\"http://localhost:9000/api/pirate/delete/\".concat(_id)).then(function(res){return console.log(res.data);}).catch(function(err){return console.log(err);});}};var onClickHandlerPegLeg=function onClickHandlerPegLeg(event){event.preventDefault();console.log(\"Single | onClickHandler | Jumped In\");console.log(_defineProperty({},event.target.name,event.target.value?\"true\":\"false\"));var copyState={pegLeg:!one.pegLeg};setOne(_objectSpread(_objectSpread({},one),{},{pegLeg:!one.pegLeg}));// setOne({\n//   pirateName: one.pirateName,\n//   imageUrl: one.imageUrl,\n//   numChests: one.numChests,\n//   catchPhrase: one.catchPhrase,\n//   crewPosition: one.crewPosition,\n//   pegLeg: !one.pegLeg,\n//   eyePatch: one.eyePatch,\n//   hookHand: one.hookHand,\n//   // [event.target.name]: !event.target.value,\n// });\nconsole.log(\"CopyState:\");console.log(copyState);axios.patch(\"http://localhost:9000/api/pirate/update/\".concat(_id),copyState).then(function(res){console.log(\"Single | onClickHandler | Success Submitting\");console.log(res.data);// history.push(`/`);\n}).catch(function(err){p(\"Single | onClickHandler | Error\");console.log(err.response.data.error.errors);setError(err.response.data.error.errors);});};var onClickHandlerEyePatch=function onClickHandlerEyePatch(event){event.preventDefault();console.log(\"Single | onClickHandler | Jumped In\");console.log(_defineProperty({},event.target.name,event.target.value?\"true\":\"false\"));var copyState={eyePatch:!one.eyePatch};setOne(_objectSpread(_objectSpread({},one),{},{eyePatch:!one.eyePatch}));// setOne({\n//   pirateName: one.pirateName,\n//   imageUrl: one.imageUrl,\n//   numChests: one.numChests,\n//   catchPhrase: one.catchPhrase,\n//   crewPosition: one.crewPosition,\n//   pegLeg: one.pegLeg,\n//   eyePatch: !one.eyePatch,\n//   hookHand: one.hookHand,\n//   // [event.target.name]: !event.target.value,\n// });\nconsole.log(\"CopyState:\");console.log(copyState);axios.patch(\"http://localhost:9000/api/pirate/update/\".concat(_id),copyState).then(function(res){console.log(\"Single | onClickHandler | Success Submitting\");console.log(res.data);// history.push(`/`);\n}).catch(function(err){p(\"Single | onClickHandler | Error\");console.log(err.response.data.error.errors);setError(err.response.data.error.errors);});};var onClickHandlerHookHand=function onClickHandlerHookHand(event){event.preventDefault();console.log(\"Single | onClickHandler | Jumped In\");console.log(_defineProperty({},event.target.name,event.target.value?\"true\":\"false\"));var copyState={hookHand:!one.hookHand};setOne(_objectSpread(_objectSpread({},one),{},{hookHand:!one.hookHand}));console.log(\"CopyState:\");console.log(copyState);axios.patch(\"http://localhost:9000/api/pirate/update/\".concat(_id),copyState).then(function(res){console.log(\"Single | onClickHandler | Success Submitting\");console.log(res.data);// history.push(`/`);\n}).catch(function(err){p(\"Single | onClickHandler | Error\");console.log(err.response.data.error.errors);setError(err.response.data.error.errors);});};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"box\",children:[/*#__PURE__*/_jsx(Link,{to:\"/\",children:/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-secondary mx-4\",children:\"\\uD83E\\uDC78\"})}),/*#__PURE__*/_jsx(\"h2\",{children:\"Pirate Details\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"box0\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"lr\",children:[/*#__PURE__*/_jsx(\"h1\",{id:\"pirate\",children:one.pirateName}),/*#__PURE__*/_jsx(\"img\",{src:one.imageUrl,alt:\"imageUrl\"}),/*#__PURE__*/_jsxs(\"h1\",{id:\"pirate\",children:[\"\\\"\",one.catchPhrase,\"\\\"\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"lr\",children:[/*#__PURE__*/_jsx(\"table\",{className:\"table table-sm table-hover \",children:/*#__PURE__*/_jsxs(\"tbody\",{children:[/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{className:\"align-middle text-end\",children:/*#__PURE__*/_jsx(\"h4\",{children:\" Position:\"})}),/*#__PURE__*/_jsx(\"td\",{className:\"align-middle\",children:/*#__PURE__*/_jsx(\"h4\",{children:one.crewPosition})})]}),/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{className:\"align-middle text-end\",children:/*#__PURE__*/_jsx(\"h4\",{children:\"Chests:\"})}),/*#__PURE__*/_jsx(\"td\",{id:\"pirate\",className:\"align-middle \",children:/*#__PURE__*/_jsx(\"h3\",{id:\"pirate\",children:_toConsumableArray(Array(one.numChests)).map(function(value,i){return/*#__PURE__*/_jsx(\"field\",{children:\"\\uD83D\\uDCB0\"},i);})})})]}),/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{className:\"align-middle text-end\",children:/*#__PURE__*/_jsx(\"h4\",{children:\"Pegleg:\"})}),/*#__PURE__*/_jsxs(\"td\",{className:\"check-update\",children:[/*#__PURE__*/_jsx(\"h4\",{children:one.pegLeg?\"‚úîÔ∏è\":\"‚ùå\"}),/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(event){return onClickHandlerPegLeg(event);},className:\"btn btn-primary mx-4\",name:\"pegLeg\",children:\"Update\"})]})]}),/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{className:\"align-middle text-end\",children:/*#__PURE__*/_jsx(\"h4\",{children:\"Eyepatch:\"})}),/*#__PURE__*/_jsxs(\"td\",{className:\"check-update\",children:[/*#__PURE__*/_jsx(\"h4\",{children:one.eyePatch?\"‚úîÔ∏è\":\"‚ùå\"}),/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(event){return onClickHandlerEyePatch(event);},className:\"btn btn-primary mx-4\",name:\"eyePatch\",children:\"Update\"})]})]}),/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{className:\"align-middle text-end\",children:/*#__PURE__*/_jsx(\"h4\",{children:\"Hookhand:\"})}),/*#__PURE__*/_jsxs(\"td\",{className:\"check-update\",children:[/*#__PURE__*/_jsx(\"h4\",{children:one.hookHand?\"‚úîÔ∏è\":\"‚ùå\"}),/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(event){return onClickHandlerHookHand(event);},className:\"btn btn-primary mx-4\",name:\"hookHand\",children:\"Update\"})]})]})]})}),/*#__PURE__*/_jsx(\"h1\",{children:\"Walk the Plank\"}),/*#__PURE__*/_jsx(Link,{to:\"/\",children:/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){onDeleteHandler(one._id,one.pirateName);},className:\"btn btn-danger btn\",children:/*#__PURE__*/_jsx(\"big\",{children:\"\\u2716\"})})})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"box2\",children:[/*#__PURE__*/_jsx(\"h4\",{children:\"Raw MongoDB Pirate Data\"}),/*#__PURE__*/_jsxs(\"table\",{className:\"table table-sm table-hover \",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"Key\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Value\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:Object.entries(one).map(function(item,i){return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:item[0]}),/*#__PURE__*/_jsx(\"td\",{className:\"text-break\",children:typeof item[1]===\"boolean\"?item[1]?\"true\":\"false\":item[1]})]},i);})})]})]})]});};export default Single;// module.exports.findOneSinglePIRATE = (req, res) => {\n//     PIRATE.findOne({ _id: req.params._id })\n//       .then((oneSinglePIRATE) => res.json(oneSinglePIRATE))\n//       .catch((err) =>\n//         res.status(400).json({ message: \"Something went wrong\", error: err })\n//       );\n//   };","map":{"version":3,"sources":["C:/Users/nieme/Documents/CodingDojo/MERNStack2022/exam/client/src/views/Single.jsx"],"names":["React","useEffect","useState","createElement","useParams","Switch","Route","Link","axios","useHistory","p","a","console","log","Single","props","_id","pirateName","imageUrl","numChests","catchPhrase","crewPosition","pegLeg","eyePatch","hookHand","one","setOne","name","error","setError","chests","setChests","history","get","then","res","data","catch","err","onDeleteHandler","window","confirm","delete","onClickHandlerPegLeg","event","preventDefault","target","value","copyState","patch","response","errors","onClickHandlerEyePatch","onClickHandlerHookHand","Array","map","i","Object","entries","item"],"mappings":"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","sourcesContent":["import React from \"react\";\r\nimport { useEffect, useState, createElement } from \"react\";\r\nimport { useParams } from \"react-router-dom/cjs/react-router-dom.min\";\r\nimport { Switch, Route, Link } from \"react-router-dom\";\r\nimport axios from \"axios\";\r\nimport { useHistory } from \"react-router-dom/cjs/react-router-dom.min\";\r\n\r\nconst p = (a) => {\r\n  console.log(a);\r\n};\r\nconst Single = (props) => {\r\n  const { _id } = useParams();\r\n  const [one, setOne] = useState({\r\n    pirateName: \"\",\r\n    imageUrl: \"\",\r\n    numChests: 0,\r\n    catchPhrase: \"\",\r\n    crewPosition: \"\",\r\n    pegLeg: true,\r\n    eyePatch: true,\r\n    hookHand: true,\r\n  });\r\n  const [error, setError] = useState({ name: {} });\r\n  const [chests, setChests] = useState(\"‚ùå\");\r\n\r\n  const history = useHistory();\r\n\r\n  useEffect(() => {\r\n    p(\"useEffect Running\");\r\n\r\n    axios\r\n      .get(`http://localhost:9000/api/pirate/${_id}`)\r\n      .then((res) => {\r\n        console.log(res.data);\r\n        setOne(res.data);\r\n      })\r\n      .catch((err) => console.log(err));\r\n\r\n    // var c = \"\";\r\n    // for (var i = 0; i < one.numChests; i++) {\r\n    //   c += \"üí∞\";\r\n    // }\r\n\r\n    // setChests(c);\r\n  }, [_id]);\r\n\r\n  // useEffect(() => {\r\n  //   p(\"useEffect2 Running\");\r\n\r\n  //   const copyState = {\r\n  //     pirateName: one.pirateName,\r\n  //     imageUrl: one.imageUrl,\r\n  //     numChests: one.numChests,\r\n  //     catchPhrase: one.catchPhrase,\r\n  //     crewPosition: one.crewPosition,\r\n  //     pegLeg: one.pegLeg,\r\n  //     eyePatch: one.eyePatch,\r\n  //     hookHand: one.hookHand,\r\n  //   };\r\n\r\n  //   axios\r\n  //     .patch(`http://localhost:9000/api/pirate/update/${_id}`, copyState)\r\n  //     .then((res) => {\r\n  //       console.log(\"Edit | onSubmitHandler | Success Submitting\")\r\n  //       console.log(res.data);\r\n  //       history.push(`/`);\r\n  //     })\r\n  //     .catch((err) => {\r\n  //       p(\"Edit | onSubmitHandler | Error\");\r\n  //       console.log(err.response.data.error.errors);\r\n  //       setError(err.response.data.error.errors);\r\n  //     });\r\n\r\n  // // one.pegLeg, one.eyePatch, one.hookHand\r\n  // }, [one.pegLeg, one.eyePatch, one.hookHand]);\r\n\r\n  const onDeleteHandler = (_id, pirateName) => {\r\n    if (window.confirm(`Are you sure you want to delete ${pirateName}?`)) {\r\n      console.log(\"inside on click delete\");\r\n      axios\r\n        .delete(`http://localhost:9000/api/pirate/delete/${_id}`)\r\n        .then((res) => console.log(res.data))\r\n        .catch((err) => console.log(err));\r\n    }\r\n  };\r\n\r\n  const onClickHandlerPegLeg = (event) => {\r\n    event.preventDefault();\r\n    console.log(\"Single | onClickHandler | Jumped In\");\r\n\r\n    console.log({ [event.target.name]: event.target.value ? \"true\" : \"false\" });\r\n\r\n    const copyState = {\r\n      pegLeg: !one.pegLeg,\r\n    };\r\n\r\n    setOne({\r\n      ...one,\r\n      pegLeg: !one.pegLeg,\r\n    });\r\n\r\n    // setOne({\r\n    //   pirateName: one.pirateName,\r\n    //   imageUrl: one.imageUrl,\r\n    //   numChests: one.numChests,\r\n    //   catchPhrase: one.catchPhrase,\r\n    //   crewPosition: one.crewPosition,\r\n    //   pegLeg: !one.pegLeg,\r\n    //   eyePatch: one.eyePatch,\r\n    //   hookHand: one.hookHand,\r\n    //   // [event.target.name]: !event.target.value,\r\n    // });\r\n\r\n    console.log(\"CopyState:\");\r\n    console.log(copyState);\r\n\r\n    axios\r\n      .patch(`http://localhost:9000/api/pirate/update/${_id}`, copyState)\r\n      .then((res) => {\r\n        console.log(\"Single | onClickHandler | Success Submitting\");\r\n        console.log(res.data);\r\n        // history.push(`/`);\r\n      })\r\n      .catch((err) => {\r\n        p(\"Single | onClickHandler | Error\");\r\n        console.log(err.response.data.error.errors);\r\n        setError(err.response.data.error.errors);\r\n      });\r\n  };\r\n  const onClickHandlerEyePatch = (event) => {\r\n    event.preventDefault();\r\n    console.log(\"Single | onClickHandler | Jumped In\");\r\n\r\n    console.log({ [event.target.name]: event.target.value ? \"true\" : \"false\" });\r\n\r\n    const copyState = {\r\n      eyePatch: !one.eyePatch,\r\n    };\r\n\r\n    setOne({\r\n      ...one,\r\n      eyePatch: !one.eyePatch,\r\n    });\r\n    // setOne({\r\n    //   pirateName: one.pirateName,\r\n    //   imageUrl: one.imageUrl,\r\n    //   numChests: one.numChests,\r\n    //   catchPhrase: one.catchPhrase,\r\n    //   crewPosition: one.crewPosition,\r\n    //   pegLeg: one.pegLeg,\r\n    //   eyePatch: !one.eyePatch,\r\n    //   hookHand: one.hookHand,\r\n    //   // [event.target.name]: !event.target.value,\r\n    // });\r\n\r\n    console.log(\"CopyState:\");\r\n    console.log(copyState);\r\n\r\n    axios\r\n      .patch(`http://localhost:9000/api/pirate/update/${_id}`, copyState)\r\n      .then((res) => {\r\n        console.log(\"Single | onClickHandler | Success Submitting\");\r\n        console.log(res.data);\r\n        // history.push(`/`);\r\n      })\r\n      .catch((err) => {\r\n        p(\"Single | onClickHandler | Error\");\r\n        console.log(err.response.data.error.errors);\r\n        setError(err.response.data.error.errors);\r\n      });\r\n  };\r\n  const onClickHandlerHookHand = (event) => {\r\n    event.preventDefault();\r\n    console.log(\"Single | onClickHandler | Jumped In\");\r\n\r\n    console.log({ [event.target.name]: event.target.value ? \"true\" : \"false\" });\r\n\r\n    const copyState = {\r\n      hookHand: !one.hookHand,\r\n    };\r\n\r\n    setOne({\r\n      ...one,\r\n      hookHand: !one.hookHand,\r\n    });\r\n\r\n    console.log(\"CopyState:\");\r\n    console.log(copyState);\r\n\r\n    axios\r\n      .patch(`http://localhost:9000/api/pirate/update/${_id}`, copyState)\r\n      .then((res) => {\r\n        console.log(\"Single | onClickHandler | Success Submitting\");\r\n        console.log(res.data);\r\n        // history.push(`/`);\r\n      })\r\n      .catch((err) => {\r\n        p(\"Single | onClickHandler | Error\");\r\n        console.log(err.response.data.error.errors);\r\n        setError(err.response.data.error.errors);\r\n      });\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <div className=\"box\">\r\n        <Link to={\"/\"}>\r\n          <button className=\"btn btn-secondary mx-4\">ü°∏</button>\r\n        </Link>\r\n        <h2>Pirate Details</h2>\r\n      </div>\r\n      <div className=\"box0\">\r\n        <div className=\"lr\">\r\n          <h1 id=\"pirate\">{one.pirateName}</h1>\r\n          <img src={one.imageUrl} alt=\"imageUrl\" />\r\n          <h1 id=\"pirate\">\"{one.catchPhrase}\"</h1>\r\n        </div>\r\n        <div className=\"lr\">\r\n          {/* <h1>About</h1> */}\r\n          <table className=\"table table-sm table-hover \">\r\n            {/* <thead>\r\n              <tr>\r\n                <th></th>\r\n                <th></th>\r\n                <th></th>\r\n              </tr>\r\n            </thead> */}\r\n            <tbody>\r\n              <tr>\r\n                <td className=\"align-middle text-end\">\r\n                  <h4> Position:</h4>\r\n                </td>\r\n                <td className=\"align-middle\">\r\n                  <h4>{one.crewPosition}</h4>\r\n                </td>\r\n                {/* <td className=\"align-middle\"></td> */}\r\n              </tr>\r\n              <tr>\r\n                <td className=\"align-middle text-end\">\r\n                  <h4>Chests:</h4>\r\n                </td>\r\n                <td id=\"pirate\" className=\"align-middle \">\r\n                  <h3 id=\"pirate\">\r\n                    {/* <span>üí∞</span>\r\n                    <span>üí∞</span> */}\r\n                  {[...Array(one.numChests),].map((value, i)=>{ return <field key={i}>üí∞</field>})\r\n                  }\r\n                  </h3>\r\n                </td>\r\n                {/* <td className=\"align-middle\"></td> */}\r\n              </tr>\r\n              <tr>\r\n                <td className=\"align-middle text-end\">\r\n                  <h4>Pegleg:</h4>\r\n                </td>\r\n                <td className=\"check-update\">\r\n                  <h4>{one.pegLeg ? \"‚úîÔ∏è\" : \"‚ùå\"}</h4>\r\n                  <button\r\n                    onClick={(event) => onClickHandlerPegLeg(event)}\r\n                    className=\"btn btn-primary mx-4\"\r\n                    name=\"pegLeg\"\r\n                  >\r\n                    Update\r\n                  </button>\r\n                </td>\r\n                {/* <td className=\"align-middle text-end\">\r\n                </td> */}\r\n              </tr>\r\n              <tr>\r\n                <td className=\"align-middle text-end\">\r\n                  <h4>Eyepatch:</h4>\r\n                </td>\r\n                <td className=\"check-update\">\r\n                  <h4>{one.eyePatch ? \"‚úîÔ∏è\" : \"‚ùå\"}</h4>\r\n                  <button\r\n                    onClick={(event) => onClickHandlerEyePatch(event)}\r\n                    className=\"btn btn-primary mx-4\"\r\n                    name=\"eyePatch\"\r\n                  >\r\n                    Update\r\n                  </button>\r\n                {/* </td>\r\n                <td className=\"align-middle text-end\"> */}\r\n                </td>\r\n              </tr>\r\n              <tr>\r\n                <td className=\"align-middle text-end\">\r\n                  <h4>Hookhand:</h4>\r\n                </td>\r\n                <td className=\"check-update\">\r\n                  <h4>{one.hookHand ? \"‚úîÔ∏è\" : \"‚ùå\"}</h4>\r\n                  <button\r\n                    onClick={(event) => onClickHandlerHookHand(event)}\r\n                    className=\"btn btn-primary mx-4\"\r\n                    name=\"hookHand\"\r\n                  >\r\n                    Update\r\n                  </button>\r\n                </td>\r\n                {/* <td className=\"align-middle text-end\">\r\n                </td> */}\r\n              </tr>\r\n            </tbody>\r\n          </table>\r\n\r\n          <h1>Walk the Plank</h1>\r\n          <Link to={`/`}>\r\n            <button\r\n              onClick={() => {\r\n                onDeleteHandler(one._id, one.pirateName);\r\n              }}\r\n              className=\"btn btn-danger btn\"\r\n            >\r\n              <big>‚úñ</big>\r\n            </button>\r\n          </Link>\r\n        </div>\r\n      </div>\r\n      <div className=\"box2\">\r\n        <h4>Raw MongoDB Pirate Data</h4>\r\n        <table className=\"table table-sm table-hover \">\r\n          <thead>\r\n            <tr>\r\n              <th>Key</th>\r\n              <th>Value</th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            {Object.entries(one).map((item, i) => {\r\n              return (\r\n                <tr key={i}>\r\n                  <td>{item[0]}</td>\r\n                  <td className=\"text-break\">\r\n                    {typeof item[1] === \"boolean\"\r\n                      ? item[1]\r\n                        ? \"true\"\r\n                        : \"false\"\r\n                      : item[1]}\r\n                  </td>\r\n                  {/* <td style={{(item[1].length > 10 ? { fontSize: \"10px\" } : {fontSize = \"20px\"})}}>\r\n                    {item[1]}\r\n                  </td> */}\r\n                </tr>\r\n              );\r\n            })}\r\n          </tbody>\r\n        </table>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Single;\r\n\r\n// module.exports.findOneSinglePIRATE = (req, res) => {\r\n//     PIRATE.findOne({ _id: req.params._id })\r\n//       .then((oneSinglePIRATE) => res.json(oneSinglePIRATE))\r\n//       .catch((err) =>\r\n//         res.status(400).json({ message: \"Something went wrong\", error: err })\r\n//       );\r\n//   };\r\n"]},"metadata":{},"sourceType":"module"}